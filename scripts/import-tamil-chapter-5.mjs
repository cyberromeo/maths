import { Client, Databases, ID } from 'node-appwrite';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
dotenv.config({ path: path.resolve(__dirname, '../.env.local') });

const client = new Client()
    .setEndpoint(process.env.NEXT_PUBLIC_APPWRITE_ENDPOINT)
    .setProject(process.env.NEXT_PUBLIC_APPWRITE_PROJECT_ID)
    .setKey(process.env.APPWRITE_API_KEY);

const databases = new Databases(client);

const DATABASE_ID = process.env.NEXT_PUBLIC_APPWRITE_DATABASE_ID;
const CHAPTERS_COLLECTION = process.env.NEXT_PUBLIC_APPWRITE_COLLECTION_CHAPTERS;
const QUESTIONS_COLLECTION = process.env.NEXT_PUBLIC_APPWRITE_COLLECTION_QUESTIONS || 'questions';

const tamilChapterData = {
    "unit": "5",
    "chapter_name": "‡ÆÜ‡ÆØ‡Æ§‡Øç‡Æ§‡Øä‡Æ≤‡Øà ‡Æµ‡Æü‡Æø‡Æµ‡Æø‡ÆØ‡Æ≤‡Øç",
    "total_questions": 15,
    "questions": [
        {
            "id": 1,
            "question": "(-5, 0), (0, -5) ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç (5, 0) ‡ÆÜ‡Æï‡Æø‡ÆØ ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡Æï‡Æ≥‡Ææ‡Æ≤‡Øç ‡ÆÖ‡ÆÆ‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡Øã‡Æ£‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡ØÅ",
            "options": [
                "0 ‡Æö.‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç",
                "25 ‡Æö.‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç",
                "5 ‡Æö.‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç",
                "‡Æé‡Æ§‡ØÅ‡Æµ‡ØÅ‡ÆÆ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà"
            ],
            "answer": "25 ‡Æö.‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç"
        },
        {
            "id": 2,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æö‡ØÅ‡Æµ‡Æ∞‡Æø‡Æ©‡Øç ‡ÆÖ‡Æ∞‡ØÅ‡Æï‡Øá ‡Æ®‡Æü‡Æ®‡Øç‡Æ§‡ØÅ ‡Æö‡ØÜ‡Æ©‡Øç‡Æ±‡ØÅ ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Æø‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æ®‡Æ™‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æö‡ØÅ‡Æµ‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æü‡Øà‡ÆØ‡Øá ‡Æâ‡Æ≥‡Øç‡Æ≥ ‡Æ§‡ØÇ‡Æ∞‡ÆÆ‡Øç 10 ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç. ‡Æö‡ØÅ‡Æµ‡Æ∞‡Øà Y -‡ÆÖ‡Æö‡Øç‡Æö‡Ææ‡Æï‡Æï‡Øç ‡Æï‡Æ∞‡ØÅ‡Æ§‡Æø‡Æ©‡Ææ‡Æ≤‡Øç, ‡ÆÖ‡Æ®‡Øç‡Æ§ ‡Æ®‡Æ™‡Æ∞‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Ææ‡Æ§‡Øà ‡Æé‡Æ©‡Øç‡Æ™‡Æ§‡ØÅ",
            "options": [
                "x = 10",
                "y = 10",
                "x = 0",
                "y = 0"
            ],
            "answer": "x = 10"
        },
        {
            "id": 3,
            "question": "x = 11 ‡Æé‡Æ©‡Æï‡Øç ‡Æï‡Øä‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ©‡Øç ‡Æö‡ÆÆ‡Æ©‡Øç‡Æ™‡Ææ‡Æü‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "X -‡ÆÖ‡Æö‡Øç‡Æö‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æá‡Æ£‡Øà",
                "Y -‡ÆÖ‡Æö‡Øç‡Æö‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æá‡Æ£‡Øà",
                "‡ÆÜ‡Æ§‡Æø‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø ‡Æµ‡Æ¥‡Æø‡Æö‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤‡ØÅ‡ÆÆ‡Øç",
                "(0, 11) ‡Æé‡Æ©‡Øç‡Æ± ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø ‡Æµ‡Æ¥‡Æø‡Æö‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤‡ØÅ‡ÆÆ‡Øç"
            ],
            "answer": "Y -‡ÆÖ‡Æö‡Øç‡Æö‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æá‡Æ£‡Øà"
        },
        {
            "id": 4,
            "question": "(5, 7), (3, p) ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç (6, 6) ‡Æé‡Æ©‡Øç‡Æ™‡Æ© ‡Æí‡Æ∞‡ØÅ ‡Æï‡Øã‡Æü‡Øç‡Æü‡ÆÆ‡Øà‡Æ®‡Øç‡Æ§‡Æµ‡Øà ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, p -‡ÆØ‡Æø‡Æ©‡Øç ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÅ",
            "options": [
                "3",
                "6",
                "9",
                "12"
            ],
            "answer": "9"
        },
        {
            "id": 5,
            "question": "3x - y = 4 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç x + y = 8 ‡ÆÜ‡Æï‡Æø‡ÆØ ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡ØÅ‡Æï‡Æ≥‡Øç ‡Æö‡Æ®‡Øç‡Æ§‡Æø‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø",
            "options": [
                "(5, 3)",
                "(2, 4)",
                "(3, 5)",
                "(4, 4)"
            ],
            "answer": "(3, 5)"
        },
        {
            "id": 6,
            "question": "(12, 3), (4, a) ‡Æé‡Æ©‡Øç‡Æ± ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡Æï‡Æ≥‡Øà ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ 1/8 ‡Æé‡Æ©‡Æø‡Æ≤‡Øç 'a' -‡ÆØ‡Æø‡Æ©‡Øç ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÅ",
            "options": [
                "1",
                "4",
                "-5",
                "2"
            ],
            "answer": "2"
        },
        {
            "id": 7,
            "question": "(0, 0) ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç (-8, 8) ‡Æé‡Æ©‡Øç‡Æ± ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡Æï‡Æ≥‡Øà ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ±‡Øç‡Æï‡ØÅ‡Æö‡Øç ‡Æö‡ØÜ‡Æô‡Øç‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Ææ‡Æ© ‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ",
            "options": [
                "-1",
                "1",
                "1/3",
                "-8"
            ],
            "answer": "1"
        },
        {
            "id": 8,
            "question": "‡Æï‡Øã‡Æü‡Øç‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ PQ-‡ÆØ‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ 1/‚àö3 ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, PQ -‡Æï‡Øç‡Æï‡ØÅ ‡Æö‡ØÜ‡Æô‡Øç‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Ææ‡Æ© ‡Æá‡Æ∞‡ØÅ ‡Æö‡ÆÆ ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡Æø‡ÆØ‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ",
            "options": [
                "‚àö3",
                "-‚àö3",
                "1/‚àö3",
                "0"
            ],
            "answer": "-‚àö3"
        },
        {
            "id": 9,
            "question": "Y ‡ÆÖ‡Æö‡Øç‡Æö‡Æø‡Æ≤‡Øç ‡ÆÖ‡ÆÆ‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø A -‡ÆØ‡Æø‡Æ©‡Øç ‡Æö‡ØÜ‡Æô‡Øç‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ§‡Øç ‡Æ§‡Øä‡Æ≤‡Øà‡Æµ‡ØÅ 8 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç X-‡ÆÖ‡Æö‡Øç‡Æö‡Æø‡Æ≤‡Øç ‡ÆÖ‡ÆÆ‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø B -‡ÆØ‡Æø‡Æ©‡Øç ‡Æï‡Æø‡Æü‡Øà‡ÆÆ‡Æü‡Øç‡Æü‡Æ§‡Øç ‡Æ§‡Øä‡Æ≤‡Øà‡Æµ‡ØÅ 5 ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, AB ‡Æé‡Æ©‡Øç‡Æ± ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ©‡Øç ‡Æö‡ÆÆ‡Æ©‡Øç‡Æ™‡Ææ‡Æü‡ØÅ",
            "options": [
                "8x + 5y = 40",
                "8x - 5y = 40",
                "x = 8",
                "y = 5"
            ],
            "answer": "8x + 5y = 40"
        },
        {
            "id": 10,
            "question": "7x - 3y + 4 = 0 ‡Æé‡Æ©‡Øç‡Æ± ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ±‡Øç‡Æï‡ØÅ‡Æö‡Øç ‡Æö‡ØÜ‡Æô‡Øç‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Ææ‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç, ‡ÆÜ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø ‡Æµ‡Æ¥‡Æø‡Æö‡Øç ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ©‡Øç ‡Æö‡ÆÆ‡Æ©‡Øç‡Æ™‡Ææ‡Æü‡ØÅ",
            "options": [
                "7x - 3y + 4 = 0",
                "3x - 7y + 4 = 0",
                "3x + 7y = 0",
                "7x - 3y = 0"
            ],
            "answer": "3x + 7y = 0"
        },
        {
            "id": 11,
            "question": "(i) l‚ÇÅ: 3y = 4x + 5 (ii) l‚ÇÇ: 4y = 3x - 1 (iii) l‚ÇÉ: 4y + 3x = 7 (iv) l‚ÇÑ: 4x + 3y = 2 ‡Æé‡Æ©‡Æï‡Øç ‡Æï‡Øä‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æ®‡Ææ‡Æ©‡Øç‡Æï‡ØÅ ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡ØÅ‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Øç ‡Æï‡ØÄ‡Æ¥‡Øç‡Æï‡Øç‡Æï‡Æ£‡Øç‡Æü ‡Æï‡ØÇ‡Æ±‡Øç‡Æ±‡ØÅ‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æé‡Æ§‡ØÅ ‡Æâ‡Æ£‡Øç‡ÆÆ‡Øà?",
            "options": [
                "l‚ÇÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç l‚ÇÇ ‡Æö‡ØÜ‡Æô‡Øç‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Ææ‡Æ©‡Æµ‡Øà",
                "l‚ÇÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç l‚ÇÑ ‡Æá‡Æ£‡Øà‡ÆØ‡Ææ‡Æ©‡Æµ‡Øà",
                "l‚ÇÇ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç l‚ÇÑ ‡Æö‡ØÜ‡Æô‡Øç‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Ææ‡Æ©‡Æµ‡Øà",
                "l‚ÇÇ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç l‚ÇÉ ‡Æá‡Æ£‡Øà‡ÆØ‡Ææ‡Æ©‡Æµ‡Øà"
            ],
            "answer": "l‚ÇÇ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç l‚ÇÑ ‡Æö‡ØÜ‡Æô‡Øç‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Ææ‡Æ©‡Æµ‡Øà"
        },
        {
            "id": 12,
            "question": "8y = 4x + 21 ‡Æé‡Æ©‡Øç‡Æ± ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡Øç‡Æü‡Æø‡Æ©‡Øç ‡Æö‡ÆÆ‡Æ©‡Øç‡Æ™‡Ææ‡Æü‡Øç‡Æü‡Æø‡Æ±‡Øç‡Æï‡ØÅ‡Æï‡Øç ‡Æï‡ØÄ‡Æ¥‡Øç‡Æï‡Øç‡Æï‡Æ£‡Øç‡Æü‡Æµ‡Æ±‡Øç‡Æ±‡ØÅ‡Æ≥‡Øç ‡Æé‡Æ§‡ØÅ ‡Æâ‡Æ£‡Øç‡ÆÆ‡Øà?",
            "options": [
                "‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ 0.5 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç y ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ 2.6",
                "‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ 5 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç y ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ 1.6",
                "‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ 0.5 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç y ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ 1.6",
                "‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ 5 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç y ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ 2.6"
            ],
            "answer": "‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ 0.5 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç y ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ 2.6"
        },
        {
            "id": 13,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æ®‡Ææ‡Æ±‡Øç‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ ‡Æí‡Æ∞‡ØÅ ‡Æö‡Æ∞‡Æø‡Æµ‡Æï‡ÆÆ‡Ææ‡Æï ‡ÆÖ‡ÆÆ‡Øà‡ÆØ‡Æ§‡Øç ‡Æ§‡Øá‡Æµ‡Øà‡ÆØ‡Ææ‡Æ© ‡Æ®‡Æø‡Æ™‡Æ®‡Øç‡Æ§‡Æ©‡Øà",
            "options": [
                "‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà",
                "‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà‡ÆØ‡Æ±‡Øç‡Æ±‡Æµ‡Øà",
                "‡Æé‡Æ§‡Æø‡Æ∞‡ØÜ‡Æ§‡Æø‡Æ∞‡Øç ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà",
                "‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ‡Æ™‡Øç ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡ØÅ‡ÆÆ‡Øç ‡Æö‡ÆÆ‡ÆÆ‡Øç"
            ],
            "answer": "‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà‡ÆØ‡Æ±‡Øç‡Æ±‡Æµ‡Øà"
        },
        {
            "id": 14,
            "question": "‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡Øà‡Æ™‡Øç ‡Æ™‡ÆØ‡Æ©‡Øç‡Æ™‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æø ‡Æ®‡Ææ‡Æ±‡Øç‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ ‡Æì‡Æ∞‡Øç ‡Æá‡Æ£‡Øà‡Æï‡Æ∞‡ÆÆ‡Ææ‡Æï ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ§‡ØÅ ‡Æé‡Æ©‡Æï‡Øç ‡Æï‡ØÇ‡Æ± ‡Æ®‡Ææ‡ÆÆ‡Øç ‡Æï‡Ææ‡Æ£ ‡Æµ‡Øá‡Æ£‡Øç‡Æü‡Æø‡ÆØ‡Æµ‡Øà",
            "options": [
                "‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç",
                "‡Æá‡Æ∞‡ØÅ ‡Æö‡Øã‡Æü‡Æø ‡Æé‡Æ§‡Æø‡Æ∞‡Øç ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç",
                "‡ÆÖ‡Æ©‡Øà‡Æ§‡Øç‡Æ§‡ØÅ‡Æ™‡Øç ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æ®‡ØÄ‡Æ≥‡Æô‡Øç‡Æï‡Æ≥‡Øç",
                "‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ®‡ØÄ‡Æ≥‡Æô‡Øç‡Æï‡Æ≥‡Øç"
            ],
            "answer": "‡Æá‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æö‡Ææ‡ÆØ‡Øç‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç"
        },
        {
            "id": 15,
            "question": "(2, 1) ‡Æê ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡ØÅ‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡ÆØ‡Ææ‡Æï‡Æï‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡Æá‡Æ∞‡ØÅ ‡Æ®‡Øá‡Æ∞‡Øç‡Æï‡Øã‡Æü‡ØÅ‡Æï‡Æ≥‡Øç",
            "options": [
                "x - y - 3 = 0; 3x - y - 7 = 0",
                "x + y = 3; 3x + y = 7",
                "3x + y = 3; x + y = 7",
                "x + 3y - 3 = 0; x - y - 7 = 0"
            ],
            "answer": "x + y = 3; 3x + y = 7"
        }
    ]
};

async function main() {
    console.log(`Starting import of Chapter ${tamilChapterData.unit}: ${tamilChapterData.chapter_name}`);

    try {
        const chapter = await databases.createDocument(
            DATABASE_ID,
            CHAPTERS_COLLECTION,
            ID.unique(),
            {
                name: `‡ÆÖ‡Æ≤‡Æï‡ØÅ ${tamilChapterData.unit}: ${tamilChapterData.chapter_name}`,
                description: tamilChapterData.chapter_name,
                color: "teal-500", // Teal for Coordinate Geometry
                icon: "üìà", // Graph icon for Coordinate Geometry
                medium: "tamil",
                questionCount: tamilChapterData.questions.length
            }
        );
        console.log(`‚úÖ Created chapter: ${chapter.name} (${chapter.$id})`);

        for (const q of tamilChapterData.questions) {
            const correctIndex = q.options.findIndex(opt => opt === q.answer);

            if (correctIndex === -1) {
                console.warn(`‚ö†Ô∏è  Warning: Answer "${q.answer}" not found in options for question ${q.id}. Defaulting to index 0.`);
            }

            await databases.createDocument(
                DATABASE_ID,
                QUESTIONS_COLLECTION,
                ID.unique(),
                {
                    chapterId: chapter.$id,
                    chapterName: chapter.name,
                    questionText: q.question,
                    options: q.options,
                    correctAnswer: correctIndex !== -1 ? correctIndex : 0,
                    createdBy: "admin",
                    createdAt: new Date().toISOString()
                }
            );
            console.log(`   - Added question ${q.id}`);
        }

        console.log(`\nSuccessfully imported chapter and ${tamilChapterData.questions.length} questions.`);

    } catch (error) {
        console.error("‚ùå Import failed:", error.message);
    }
}

main();
