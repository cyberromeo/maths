import { Client, Databases, ID } from 'node-appwrite';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
dotenv.config({ path: path.resolve(__dirname, '../.env.local') });

const client = new Client()
    .setEndpoint(process.env.NEXT_PUBLIC_APPWRITE_ENDPOINT)
    .setProject(process.env.NEXT_PUBLIC_APPWRITE_PROJECT_ID)
    .setKey(process.env.APPWRITE_API_KEY);

const databases = new Databases(client);

const DATABASE_ID = process.env.NEXT_PUBLIC_APPWRITE_DATABASE_ID;
const CHAPTERS_COLLECTION = process.env.NEXT_PUBLIC_APPWRITE_COLLECTION_CHAPTERS;
const QUESTIONS_COLLECTION = process.env.NEXT_PUBLIC_APPWRITE_COLLECTION_QUESTIONS || 'questions';

const tamilChapterData = {
    "unit": "7",
    "chapter_name": "‡ÆÖ‡Æ≥‡Æµ‡Æø‡ÆØ‡Æ≤‡Øç",
    "total_questions": 15,
    "questions": [
        {
            "id": 1,
            "question": "15 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡ØÅ‡ÆÆ‡Øç 16 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡Æµ‡Æø‡Æü‡Øç‡Æü‡ÆÆ‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡Æí‡Æ∞‡ØÅ ‡Æ®‡Øá‡Æ∞‡Øç‡Æµ‡Æü‡Øç‡Æü‡Æï‡Øç ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡Æµ‡Æ≥‡Øà‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡ØÅ",
            "options": [
                "60 œÄ ‡Æö.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "68 œÄ ‡Æö.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "120 œÄ ‡Æö.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "136 œÄ ‡Æö.‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
            ],
            "answer": "136 œÄ ‡Æö.‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
        },
        {
            "id": 2,
            "question": "r ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æ∞‡ÆÆ‡Øç ‡Æâ‡Æü‡Øà‡ÆØ ‡Æá‡Æ∞‡ØÅ ‡Æö‡ÆÆ ‡ÆÖ‡Æ∞‡Øà‡Æï‡Øç ‡Æï‡Øã‡Æ≥‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡ÆÖ‡Æü‡Æø‡Æ™‡Øç‡Æ™‡Æï‡ØÅ‡Æ§‡Æø‡Æï‡Æ≥‡Øç ‡Æá‡Æ£‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Øã‡Æ§‡ØÅ ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Æø‡Æ£‡Øç‡ÆÆ‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æ™‡ØÅ‡Æ±‡Æ™‡Øç‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡ØÅ",
            "options": [
                "4œÄ r¬≤ ‡Æö.‡ÆÖ.",
                "6œÄ r¬≤ ‡Æö.‡ÆÖ.",
                "3œÄ r¬≤ ‡Æö.‡ÆÖ.",
                "8œÄ r¬≤ ‡Æö.‡ÆÖ."
            ],
            "answer": "4œÄ r¬≤ ‡Æö.‡ÆÖ."
        },
        {
            "id": 3,
            "question": "‡ÆÜ‡Æ∞‡ÆÆ‡Øç 5 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æö‡Ææ‡ÆØ‡ØÅ‡ÆØ‡Æ∞‡ÆÆ‡Øç 13 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡Æâ‡Æü‡Øà‡ÆØ ‡Æ®‡Øá‡Æ∞‡Øç‡Æµ‡Æü‡Øç‡Æü‡Æï‡Øç ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç",
            "options": [
                "12 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "10 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "13 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "5 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
            ],
            "answer": "12 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
        },
        {
            "id": 4,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡Æâ‡ÆØ‡Æ∞‡Æ§‡Øç‡Æ§‡Øà ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡Ææ‡ÆÆ‡Æ≤‡Øç ‡ÆÖ‡Æ§‡Æ©‡Øç ‡ÆÜ‡Æ∞‡Æ§‡Øç‡Æ§‡Øà‡Æ™‡Øç ‡Æ™‡Ææ‡Æ§‡Æø‡ÆØ‡Ææ‡Æï‡Æï‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü‡ØÅ ‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ. ‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡Æ®‡Øç‡Æ§‡Øà‡ÆØ ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æï‡Æ© ‡ÆÖ‡Æ≥‡Æµ‡ØÅ‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æµ‡Æø‡Æï‡Æø‡Æ§‡ÆÆ‡Øç",
            "options": [
                "1:2",
                "1:4",
                "1:6",
                "1:8"
            ],
            "answer": "1:4"
        },
        {
            "id": 5,
            "question": "‡Æì‡Æ∞‡Øç ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡ÆÜ‡Æ∞‡ÆÆ‡Øç ‡ÆÖ‡Æ§‡Æ©‡Øç ‡Æâ‡ÆØ‡Æ∞‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Øç ‡ÆÆ‡ØÇ‡Æ©‡Øç‡Æ±‡Æø‡Æ≤‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æ™‡Æô‡Øç‡Æï‡ØÅ ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡ÆÖ‡Æ§‡Æ©‡Øç ‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ±‡Æ™‡Øç‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡ØÅ",
            "options": [
                "9œÄ h¬≤/8 ‡Æö.‡ÆÖ.",
                "24œÄ h¬≤ ‡Æö.‡ÆÖ.",
                "8œÄ h¬≤/9 ‡Æö.‡ÆÖ.",
                "56œÄ h¬≤/9 ‡Æö.‡ÆÖ."
            ],
            "answer": "8œÄ h¬≤/9 ‡Æö.‡ÆÖ."
        },
        {
            "id": 6,
            "question": "‡Æì‡Æ∞‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡ØÄ‡Æü‡Æ±‡Øç‡Æ± ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡Æµ‡ØÜ‡Æ≥‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æ± ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æâ‡Æü‡Øç‡Æ™‡ØÅ‡Æ± ‡ÆÜ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æï‡ØÇ‡Æü‡ØÅ‡Æ§‡Æ≤‡Øç 14 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ§‡Æ©‡Øç ‡Æ§‡Æü‡Æø‡ÆÆ‡Æ©‡Øç 4 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡ÆÜ‡Æï‡ØÅ‡ÆÆ‡Øç. ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà‡ÆØ‡Æø‡Æ©‡Øç ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç 20 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡ÆÖ‡Æ§‡Æ©‡Øà ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Ææ‡Æï‡Øç‡Æï‡Æ™‡Øç ‡Æ™‡ÆØ‡Æ©‡Øç‡Æ™‡Æü‡Øç‡Æü ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æ≥‡Æø‡Æ©‡Øç ‡Æï‡Æ© ‡ÆÖ‡Æ≥‡Æµ‡ØÅ",
            "options": [
                "5600 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "11200 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "56 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "3600 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
            ],
            "answer": "11200 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
        },
        {
            "id": 7,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡ÆÖ‡Æü‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æ± ‡ÆÜ‡Æ∞‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡ÆÆ‡Øç‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡Ææ‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç ‡Æá‡Æ∞‡ØÅ ‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡Ææ‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Ææ‡Æ±‡Æø‡Æ©‡Ææ‡Æ≤‡Øç ‡Æï‡Æ© ‡ÆÖ‡Æ≥‡Æµ‡ØÅ ‡Æé‡Æ§‡Øç‡Æ§‡Æ©‡Øà ‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡Ææ‡Æï ‡ÆÆ‡Ææ‡Æ±‡ØÅ‡ÆÆ‡Øç?",
            "options": [
                "6 ‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡ØÅ",
                "18 ‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡ØÅ",
                "12 ‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡ØÅ",
                "‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡ÆÆ‡Æø‡Æ≤‡Øç‡Æ≤‡Øà"
            ],
            "answer": "18 ‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡ØÅ"
        },
        {
            "id": 8,
            "question": "‡Æì‡Æ∞‡Øç ‡ÆÖ‡Æ∞‡Øà‡Æï‡Øç‡Æï‡Øã‡Æ≥‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§‡Æ™‡Øç ‡Æ™‡Æ∞‡Æ™‡Øç‡Æ™‡ØÅ ‡ÆÖ‡Æ§‡Æ©‡Øç ‡ÆÜ‡Æ∞‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡ØÅ‡Æü‡Øà‡ÆØ ‡Æµ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ____ ‡ÆÆ‡Æü‡Æô‡Øç‡Æï‡Ææ‡Æï‡ØÅ‡ÆÆ‡Øç",
            "options": [
                "œÄ",
                "4œÄ",
                "3œÄ",
                "2œÄ"
            ],
            "answer": "3œÄ"
        },
        {
            "id": 9,
            "question": "x ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡ÆÜ‡Æ∞‡ÆÆ‡ØÅ‡Æ≥‡Øç‡Æ≥ ‡Æí‡Æ∞‡ØÅ ‡Æ§‡Æø‡Æ£‡Øç‡ÆÆ‡Æï‡Øç ‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç ‡ÆÖ‡Æ§‡Øá ‡ÆÜ‡Æ∞‡ÆÆ‡ØÅ‡Æ≥‡Øç‡Æ≥ ‡Æí‡Æ∞‡ØÅ ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Ææ‡Æï ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç",
            "options": [
                "3x ‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "x ‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "4x ‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "2x ‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
            ],
            "answer": "4x ‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
        },
        {
            "id": 10,
            "question": "16 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡ØÅ‡Æ≥‡Øç‡Æ≥ ‡Æí‡Æ∞‡ØÅ ‡Æ®‡Øá‡Æ∞‡Øç‡Æµ‡Æü‡Øç‡Æü‡Æï‡Øç ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡Æá‡Æü‡Øà‡Æï‡Øç‡Æï‡Æ£‡Øç‡Æü ‡ÆÜ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øç 8 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç 20 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡ÆÖ‡Æ§‡Æ©‡Øç ‡Æï‡Æ© ‡ÆÖ‡Æ≥‡Æµ‡ØÅ",
            "options": [
                "3328 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "3228 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "3240 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ",
                "3340 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
            ],
            "answer": "3328 œÄ ‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ"
        },
        {
            "id": 11,
            "question": "‡Æï‡ØÄ‡Æ¥‡Øç‡Æï‡Øç‡Æï‡Ææ‡Æ£‡ØÅ‡ÆÆ‡Øç ‡Æé‡Æ®‡Øç‡Æ§ ‡Æá‡Æ∞‡ØÅ ‡Æâ‡Æ∞‡ØÅ‡Æµ‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æá‡Æ£‡Øà‡Æ§‡Øç‡Æ§‡Ææ‡Æ≤‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æá‡Æ±‡Æï‡ØÅ‡Æ™‡Æ®‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æµ‡Æü‡Æø‡Æµ‡ÆÆ‡Øç ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç",
            "options": [
                "‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç",
                "‡ÆÖ‡Æ∞‡Øà‡Æï‡Øç‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡ØÅ",
                "‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡ØÅ",
                "‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡Æá‡Æü‡Øà‡Æï‡Øç‡Æï‡Æ£‡Øç‡Æü‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ∞‡Øà‡Æï‡Øç‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç"
            ],
            "answer": "‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡Æá‡Æü‡Øà‡Æï‡Øç‡Æï‡Æ£‡Øç‡Æü‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÖ‡Æ∞‡Øà‡Æï‡Øç‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç"
        },
        {
            "id": 12,
            "question": "r‚ÇÅ ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æ∞‡ÆÆ‡ØÅ‡Æ≥‡Øç‡Æ≥ ‡Æí‡Æ∞‡ØÅ ‡Æï‡Øã‡Æ≥‡Æ™‡Øç‡Æ™‡Æ®‡Øç‡Æ§‡ØÅ ‡Æâ‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡ØÅ r‚ÇÇ ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æ∞‡ÆÆ‡ØÅ‡Æü‡Øà‡ÆØ 8 ‡Æö‡ÆÆ‡Æï‡Øã‡Æ≥ ‡Æ™‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Ææ‡Æï ‡ÆÜ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ ‡Æé‡Æ©‡Æø‡Æ≤‡Øç r‚ÇÅ:r‚ÇÇ",
            "options": [
                "2:1",
                "1:2",
                "4:1",
                "1:4"
            ],
            "answer": "2:1"
        },
        {
            "id": 13,
            "question": "1 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡ÆÜ‡Æ∞‡ÆÆ‡ØÅ‡ÆÆ‡Øç 5 ‡Æö‡ØÜ.‡ÆÆ‡ØÄ ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡ØÅ‡ÆÆ‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡Æí‡Æ∞‡ØÅ ‡ÆÆ‡Æ∞ ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà‡ÆØ‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡ÆÖ‡Æ§‡Æø‡Æï‡Æ™‡Æü‡Øç‡Æö‡Æï‡Øç ‡Æï‡Æ©‡ÆÖ‡Æ≥‡Æµ‡ØÅ ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡Æï‡Øã‡Æ≥‡ÆÆ‡Øç ‡Æµ‡ØÜ‡Æü‡Øç‡Æü‡Æø ‡Æé‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡ÆÖ‡Æ§‡Æ©‡Øç ‡Æï‡Æ© ‡ÆÖ‡Æ≥‡Æµ‡ØÅ (‡Æï.‡Æö‡ØÜ.‡ÆÆ‡ØÄ-‡Æ≤‡Øç)",
            "options": [
                "4/3 œÄ",
                "10/3 œÄ",
                "5 œÄ",
                "20/3 œÄ"
            ],
            "answer": "4/3 œÄ"
        },
        {
            "id": 14,
            "question": "‡Æá‡Æü‡Øà‡Æï‡Øç‡Æï‡Æ£‡Øç‡Æü‡Æ§‡Øç‡Æ§‡Øà ‡Æí‡Æ∞‡ØÅ ‡Æ™‡Æï‡ØÅ‡Æ§‡Æø‡ÆØ‡Ææ‡Æï‡Æï‡Øç ‡Æï‡Øä‡Æ£‡Øç‡Æü ‡Æí‡Æ∞‡ØÅ ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡Æø‡Æ©‡Øç ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÜ‡Æ∞‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Øá h‚ÇÅ ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç r‚ÇÅ ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÜ‡Æï‡ØÅ‡ÆÆ‡Øç. ‡Æá‡Æü‡Øà‡Æï‡Øç‡Æï‡Æ£‡Øç‡Æü‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æö‡Æø‡Æ±‡Æø‡ÆØ ‡Æ™‡Æï‡Øç‡Æï ‡ÆÜ‡Æ∞‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Øá h‚ÇÇ ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç r‚ÇÇ ‡ÆÖ‡Æ≤‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç h‚ÇÇ:h‚ÇÅ = 1:2 ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, r‚ÇÇ:r‚ÇÅ ‡Æ©‡Øç ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÅ",
            "options": [
                "1:3",
                "1:2",
                "2:1",
                "3:1"
            ],
            "answer": "1:2"
        },
        {
            "id": 15,
            "question": "‡Æö‡ÆÆ‡ÆÆ‡Ææ‡Æ© ‡Æµ‡Æø‡Æü‡Øç‡Æü‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æâ‡ÆØ‡Æ∞‡ÆÆ‡Øç ‡Æâ‡Æü‡Øà‡ÆØ ‡Æì‡Æ∞‡Øç ‡Æâ‡Æ∞‡ØÅ‡Æ≥‡Øà, ‡Æí‡Æ∞‡ØÅ ‡Æï‡ØÇ‡ÆÆ‡Øç‡Æ™‡ØÅ ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æï‡Øã‡Æ≥‡Æ§‡Øç‡Æ§‡Æø‡Æ©‡Øç ‡Æï‡Æ© ‡ÆÖ‡Æ≥‡Æµ‡ØÅ‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æµ‡Æø‡Æï‡Æø‡Æ§‡ÆÆ‡Øç",
            "options": [
                "1:2:3",
                "2:1:3",
                "1:3:2",
                "3:1:2"
            ],
            "answer": "3:1:2"
        }
    ]
};

async function main() {
    console.log(`Starting import of Chapter ${tamilChapterData.unit}: ${tamilChapterData.chapter_name}`);

    try {
        const chapter = await databases.createDocument(
            DATABASE_ID,
            CHAPTERS_COLLECTION,
            ID.unique(),
            {
                name: `‡ÆÖ‡Æ≤‡Æï‡ØÅ ${tamilChapterData.unit}: ${tamilChapterData.chapter_name}`,
                description: tamilChapterData.chapter_name,
                color: "orange-500", // Orange for Mensuration
                icon: "üìè", // Ruler icon for Mensuration
                medium: "tamil",
                questionCount: tamilChapterData.questions.length
            }
        );
        console.log(`‚úÖ Created chapter: ${chapter.name} (${chapter.$id})`);

        for (const q of tamilChapterData.questions) {
            const correctIndex = q.options.findIndex(opt => opt === q.answer);

            if (correctIndex === -1) {
                console.warn(`‚ö†Ô∏è  Warning: Answer "${q.answer}" not found in options for question ${q.id}. Defaulting to index 0.`);
            }

            await databases.createDocument(
                DATABASE_ID,
                QUESTIONS_COLLECTION,
                ID.unique(),
                {
                    chapterId: chapter.$id,
                    chapterName: chapter.name,
                    questionText: q.question,
                    options: q.options,
                    correctAnswer: correctIndex !== -1 ? correctIndex : 0,
                    createdBy: "admin",
                    createdAt: new Date().toISOString()
                }
            );
            console.log(`   - Added question ${q.id}`);
        }

        console.log(`\nSuccessfully imported chapter and ${tamilChapterData.questions.length} questions.`);

    } catch (error) {
        console.error("‚ùå Import failed:", error.message);
    }
}

main();
