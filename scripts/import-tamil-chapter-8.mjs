import { Client, Databases, ID } from 'node-appwrite';
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);
dotenv.config({ path: path.resolve(__dirname, '../.env.local') });

const client = new Client()
    .setEndpoint(process.env.NEXT_PUBLIC_APPWRITE_ENDPOINT)
    .setProject(process.env.NEXT_PUBLIC_APPWRITE_PROJECT_ID)
    .setKey(process.env.APPWRITE_API_KEY);

const databases = new Databases(client);

const DATABASE_ID = process.env.NEXT_PUBLIC_APPWRITE_DATABASE_ID;
const CHAPTERS_COLLECTION = process.env.NEXT_PUBLIC_APPWRITE_COLLECTION_CHAPTERS;
const QUESTIONS_COLLECTION = process.env.NEXT_PUBLIC_APPWRITE_COLLECTION_QUESTIONS || 'questions';

const tamilChapterData = {
    "unit": "8",
    "chapter_name": "‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡ÆØ‡Æø‡ÆØ‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æ§‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
    "total_questions": 15,
    "questions": [
        {
            "id": 1,
            "question": "‡Æï‡ØÄ‡Æ¥‡Øá ‡Æï‡Øä‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æµ‡Øà‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æé‡Æ§‡ØÅ ‡Æ™‡Æ∞‡Æµ‡Æ≤‡Øç ‡ÆÖ‡Æ≥‡Æµ‡Øà ‡Æá‡Æ≤‡Øç‡Æ≤‡Øà?",
            "options": [
                "‡Æµ‡ØÄ‡Æö‡Øç‡Æö‡ØÅ",
                "‡Æ§‡Æø‡Æü‡Øç‡Æü ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡ÆÆ‡Øç",
                "‡Æï‡ØÇ‡Æü‡Øç‡Æü‡ØÅ‡Æö‡Øç‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø",
                "‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï ‡Æµ‡Æ∞‡Øç‡Æï‡Øç‡Æï ‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø"
            ],
            "answer": "‡Æï‡ØÇ‡Æü‡Øç‡Æü‡ØÅ‡Æö‡Øç‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø"
        },
        {
            "id": 2,
            "question": "8, 8, 8, 8, 8... 8 ‡ÆÜ‡Æï‡Æø‡ÆØ ‡Æ§‡Æ∞‡Æµ‡Æø‡Æ©‡Øç ‡Æµ‡ØÄ‡Æö‡Øç‡Æö‡ØÅ",
            "options": [
                "0",
                "1",
                "8",
                "3"
            ],
            "answer": "0"
        },
        {
            "id": 3,
            "question": "‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø‡ÆØ‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç ‡Æ™‡ØÜ‡Æ±‡Øç‡Æ± ‡Æ§‡Æ∞‡Æµ‡ØÅ‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡Æï‡Æ≥‡ØÅ‡Æü‡Øà‡ÆØ ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æï‡ØÇ‡Æü‡ØÅ‡Æ§‡Æ≤‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "‡Æé‡Æ™‡Øç‡Æ™‡Øä‡Æ¥‡ØÅ‡Æ§‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Æø‡Æï‡Øà ‡Æé‡Æ£‡Øç",
                "‡Æé‡Æ™‡Øç‡Æ™‡Øä‡Æ¥‡ØÅ‡Æ§‡ØÅ‡ÆÆ‡Øç ‡Æï‡ØÅ‡Æ±‡Øà ‡Æé‡Æ£‡Øç",
                "‡Æ™‡ØÇ‡Æö‡Øç‡Æö‡Æø‡ÆØ‡ÆÆ‡Øç",
                "‡Æ™‡ØÇ‡Æö‡Øç‡Æö‡Æø‡ÆØ‡ÆÆ‡Æ±‡Øç‡Æ± ‡ÆÆ‡ØÅ‡Æ¥‡ØÅ‡Æï‡Øç‡Æï‡Æ≥‡Øç"
            ],
            "answer": "‡Æ™‡ØÇ‡Æö‡Øç‡Æö‡Æø‡ÆØ‡ÆÆ‡Øç"
        },
        {
            "id": 4,
            "question": "100 ‡Æ§‡Æ∞‡Æµ‡ØÅ‡Æ™‡Øç ‡Æ™‡ØÅ‡Æ≥‡Øç‡Æ≥‡Æø‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø 40 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡ÆÆ‡Øç 3 ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡Æô‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æµ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æï‡Øç ‡Æï‡ØÇ‡Æü‡ØÅ‡Æ§‡Æ≤‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "40000",
                "160900",
                "160000",
                "30000"
            ],
            "answer": "160900"
        },
        {
            "id": 5,
            "question": "‡ÆÆ‡ØÅ‡Æ§‡Æ≤‡Øç 20 ‡Æé‡Æ£‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï ‡Æµ‡Æ∞‡Øç‡Æï‡Øç‡Æï ‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø‡ÆØ‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "32.25",
                "44.25",
                "33.25",
                "30"
            ],
            "answer": "33.25"
        },
        {
            "id": 6,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æ§‡Æ∞‡Æµ‡Æø‡Æ©‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ 3. ‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡Øà‡ÆØ‡ØÅ‡ÆÆ‡Øç 5-‡ÆÜ‡Æ≤‡Øç ‡Æ™‡ØÜ‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡Æø‡Æ©‡Ææ‡Æ≤‡Øç ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æ§‡Æ∞‡Æµ‡Æø‡Æ©‡Øç ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï ‡Æµ‡Æ∞‡Øç‡Æï‡Øç‡Æï‡Æö‡Øç ‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø‡ÆØ‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "3",
                "15",
                "5",
                "225"
            ],
            "answer": "225"
        },
        {
            "id": 7,
            "question": "x, y, z ‡ÆÜ‡Æï‡Æø‡ÆØ‡Æµ‡Æ±‡Øç‡Æ±‡Æø‡Æ©‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡ÆÆ‡Øç p -‡Æé‡Æ©‡Æø‡Æ≤‡Øç, 3x+5, 3y+5, 3z+5 ‡ÆÜ‡Æï‡Æø‡ÆØ‡Æµ‡Æ±‡Øç‡Æ±‡Æø‡Æ©‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "3p+5",
                "3p",
                "p+5",
                "9p+15"
            ],
            "answer": "3p"
        },
        {
            "id": 8,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æ§‡Æ∞‡Æµ‡Æø‡Æ©‡Øç ‡Æö‡Æ∞‡Ææ‡Æö‡Æ∞‡Æø ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Ææ‡Æ±‡ØÅ‡Æ™‡Ææ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Øç ‡Æï‡ØÜ‡Æ¥‡ØÅ ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Øá 4 ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç 87.5% ‡Æé‡Æ©‡Æø‡Æ≤‡Øç ‡Æ§‡Æø‡Æü‡Øç‡Æü ‡Æµ‡Æø‡Æ≤‡Æï‡Øç‡Æï‡ÆÆ‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "3.5",
                "3",
                "4.5",
                "2.5"
            ],
            "answer": "3.5"
        },
        {
            "id": 9,
            "question": "‡Æï‡Øä‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æµ‡Øà‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æé‡Æ§‡ØÅ ‡Æ§‡Æµ‡Æ±‡Ææ‡Æ©‡Æ§‡ØÅ?",
            "options": [
                "P(A) > 1",
                "0 ‚â§ P(A) ‚â§ 1",
                "P(œÜ) = 0",
                "P(A) + P(AÃÑ) = 1"
            ],
            "answer": "P(A) > 1"
        },
        {
            "id": 10,
            "question": "p ‡Æö‡Æø‡Æµ‡Æ™‡Øç‡Æ™‡ØÅ, q ‡Æ®‡ØÄ‡Æ≤‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç r ‡Æ™‡Æö‡Øç‡Æö‡Øà ‡Æ®‡Æø‡Æ±‡Æï‡Øç ‡Æï‡ØÇ‡Æ¥‡Ææ‡Æô‡Øç‡Æï‡Æ±‡Øç‡Æï‡Æ≥‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥ ‡Æí‡Æ∞‡ØÅ ‡Æï‡ØÅ‡Æü‡ØÅ‡Æµ‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æí‡Æ∞‡ØÅ ‡Æö‡Æø‡Æµ‡Æ™‡Øç‡Æ™‡ØÅ ‡Æï‡ØÇ‡Æ¥‡Ææ‡Æô‡Øç‡Æï‡Æ≤‡Øç ‡Æé‡Æü‡ØÅ‡Æ™‡Øç‡Æ™‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æ§‡Æï‡Æµ‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "q / (p+q+r)",
                "p / (p+q+r)",
                "(p+q) / (p+q+r)",
                "(p+r) / (p+q+r)"
            ],
            "answer": "p / (p+q+r)"
        },
        {
            "id": 11,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æ™‡ØÅ‡Æ§‡Øç‡Æ§‡Æï‡Æ§‡Øç‡Æ§‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æö‡ÆÆ‡Æµ‡Ææ‡ÆØ‡Øç‡Æ™‡Øç‡Æ™‡ØÅ ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æí‡Æ∞‡ØÅ ‡Æ™‡Æï‡Øç‡Æï‡ÆÆ‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ. ‡ÆÖ‡Æ®‡Øç‡Æ§‡Æ™‡Øç ‡Æ™‡Æï‡Øç‡Æï ‡Æé‡Æ£‡Øç‡Æ£‡Æø‡Æ©‡Øç ‡Æí‡Æ©‡Øç‡Æ±‡Ææ‡ÆÆ‡Øç ‡Æá‡Æü ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡Ææ‡Æ©‡Æ§‡ØÅ 7 -‡Æê ‡Æµ‡Æø‡Æü‡Æï‡Øç ‡Æï‡ØÅ‡Æ±‡Øà‡Æµ‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æ§‡Æï‡Æµ‡ØÅ",
            "options": [
                "3/10",
                "7/10",
                "3/9",
                "7/9"
            ],
            "answer": "7/10"
        },
        {
            "id": 12,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æ®‡Æ™‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æµ‡Øá‡Æ≤‡Øà ‡Æï‡Æø‡Æü‡Øà‡Æ™‡Øç‡Æ™‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æ§‡Æï‡Æµ‡Ææ‡Æ©‡Æ§‡ØÅ x/3. ‡Æµ‡Øá‡Æ≤‡Øà ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡Ææ‡ÆÆ‡Æ≤‡Øç ‡Æá‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æ§‡Æï‡Æµ‡ØÅ 2/3 ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, x -‡ÆØ‡Æø‡Æ©‡Øç ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡Ææ‡Æ©‡Æ§‡ØÅ",
            "options": [
                "2",
                "1",
                "3",
                "1.5"
            ],
            "answer": "1"
        },
        {
            "id": 13,
            "question": "‡Æï‡ÆÆ‡Æ≤‡ÆÆ‡Øç ‡Æï‡ØÅ‡Æ≤‡ØÅ‡Æï‡Øç‡Æï‡Æ≤‡Øç ‡Æ™‡Øã‡Æü‡Øç‡Æü‡Æø‡ÆØ‡Æø‡Æ≤‡Øç ‡Æï‡Æ≤‡Æ®‡Øç‡Æ§‡ØÅ‡Æï‡Øä‡Æ£‡Øç‡Æü‡Ææ‡Æ≥‡Øç. ‡ÆÖ‡Æô‡Øç‡Æï‡ØÅ ‡ÆÆ‡Øä‡Æ§‡Øç‡Æ§‡ÆÆ‡Øç 135 ‡Æö‡ØÄ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æ≥‡Øç ‡Æµ‡Æø‡Æ±‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü‡Æ©. ‡Æï‡ÆÆ‡Æ≤‡ÆÆ‡Øç ‡Æµ‡ØÜ‡Æ±‡Øç‡Æ±‡Æø ‡Æ™‡ØÜ‡Æ±‡ØÅ‡Æµ‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æµ‡Ææ‡ÆØ‡Øç‡Æ™‡Øç‡Æ™‡ØÅ 1/9 ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡Æï‡ÆÆ‡Æ≤‡ÆÆ‡Øç ‡Æµ‡Ææ‡Æô‡Øç‡Æï‡Æø‡ÆØ ‡Æö‡ØÄ‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æé‡Æ£‡Øç‡Æ£‡Æø‡Æï‡Øç‡Æï‡Øà",
            "options": [
                "5",
                "10",
                "15",
                "20"
            ],
            "answer": "15"
        },
        {
            "id": 14,
            "question": "‡ÆÜ‡Æô‡Øç‡Æï‡Æø‡Æ≤ ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Øç‡Æï‡Æ≥‡Øç {a, b,..., z} -‡ÆØ‡Æø‡Æ≤‡Æø‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ ‡Æì‡Æ∞‡Øç ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ ‡Æö‡ÆÆ‡Æµ‡Ææ‡ÆØ‡Øç‡Æ™‡Øç‡Æ™‡ØÅ ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æµ‡ØÅ ‡Æö‡ØÜ‡ÆØ‡Øç‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ. ‡ÆÖ‡Æ®‡Øç‡Æ§ ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ x-‡Æï‡Øç‡Æï‡ØÅ ‡ÆÆ‡ØÅ‡Æ®‡Øç‡Æ§‡Øà‡ÆØ ‡Æé‡Æ¥‡ØÅ‡Æ§‡Øç‡Æ§‡ØÅ‡Æï‡Æ≥‡Æø‡Æ≤‡Øç ‡Æí‡Æ©‡Øç‡Æ±‡Ææ‡Æï ‡Æá‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æ§‡Æï‡Æµ‡ØÅ",
            "options": [
                "12/13",
                "1/13",
                "23/26",
                "3/26"
            ],
            "answer": "23/26"
        },
        {
            "id": 15,
            "question": "‡Æí‡Æ∞‡ØÅ ‡Æ™‡Æ£‡Æ™‡Øç‡Æ™‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æ∞‡ØÇ.2000 ‡Æ®‡Øã‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æ≥‡Øç 10-‡ÆÆ‡Øç, ‡Æ∞‡ØÇ.500 ‡Æ®‡Øã‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æ≥‡Øç 15-‡ÆÆ‡Øç, ‡Æ∞‡ØÇ.200 ‡Æ®‡Øã‡Æü‡Øç‡Æü‡ØÅ‡Æï‡Æ≥‡Øç 25-‡ÆÆ‡Øç ‡Æâ‡Æ≥‡Øç‡Æ≥‡Æ©. ‡Æí‡Æ∞‡ØÅ ‡Æ®‡Øã‡Æü‡Øç‡Æü‡ØÅ ‡Æö‡ÆÆ‡Æµ‡Ææ‡ÆØ‡Øç‡Æ™‡Øç‡Æ™‡ØÅ ‡ÆÆ‡ØÅ‡Æ±‡Øà‡ÆØ‡Æø‡Æ≤‡Øç ‡Æé‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ§‡ØÅ ‡Æé‡Æ©‡Æø‡Æ≤‡Øç, ‡ÆÖ‡Æ®‡Øç‡Æ§ ‡Æ®‡Øã‡Æü‡Øç‡Æü‡ØÅ ‡Æ∞‡ØÇ.500 ‡Æ®‡Øã‡Æü‡Øç‡Æü‡Ææ‡Æï‡Æµ‡Øã ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æ∞‡ØÇ.200 ‡Æ®‡Øã‡Æü‡Øç‡Æü‡Ææ‡Æï‡Æµ‡Øã ‡Æá‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æ§‡Æ±‡Øç‡Æï‡Ææ‡Æ© ‡Æ®‡Æø‡Æï‡Æ¥‡Øç‡Æ§‡Æï‡Æµ‡ØÅ ‡Æé‡Æ©‡Øç‡Æ©?",
            "options": [
                "1/5",
                "3/10",
                "2/3",
                "4/5"
            ],
            "answer": "4/5"
        }
    ]
};

async function main() {
    console.log(`Starting import of Chapter ${tamilChapterData.unit}: ${tamilChapterData.chapter_name}`);

    try {
        const chapter = await databases.createDocument(
            DATABASE_ID,
            CHAPTERS_COLLECTION,
            ID.unique(),
            {
                name: `‡ÆÖ‡Æ≤‡Æï‡ØÅ ${tamilChapterData.unit}: ${tamilChapterData.chapter_name}`,
                description: tamilChapterData.chapter_name,
                color: "lime-500", // Lime for Statistics
                icon: "üìä", // Bar chart icon for Statistics
                medium: "tamil",
                questionCount: tamilChapterData.questions.length
            }
        );
        console.log(`‚úÖ Created chapter: ${chapter.name} (${chapter.$id})`);

        for (const q of tamilChapterData.questions) {
            const correctIndex = q.options.findIndex(opt => opt === q.answer);

            if (correctIndex === -1) {
                console.warn(`‚ö†Ô∏è  Warning: Answer "${q.answer}" not found in options for question ${q.id}. Defaulting to index 0.`);
            }

            await databases.createDocument(
                DATABASE_ID,
                QUESTIONS_COLLECTION,
                ID.unique(),
                {
                    chapterId: chapter.$id,
                    chapterName: chapter.name,
                    questionText: q.question,
                    options: q.options,
                    correctAnswer: correctIndex !== -1 ? correctIndex : 0,
                    createdBy: "admin",
                    createdAt: new Date().toISOString()
                }
            );
            console.log(`   - Added question ${q.id}`);
        }

        console.log(`\nSuccessfully imported chapter and ${tamilChapterData.questions.length} questions.`);

    } catch (error) {
        console.error("‚ùå Import failed:", error.message);
    }
}

main();
